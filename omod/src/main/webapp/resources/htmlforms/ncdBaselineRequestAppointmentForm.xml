<htmlform
	formUuid="f09a3a3a-810e-4cf6-b432-3d43da303911"
	formName="Request Appointment"
	formEncounterType="fa6f3ff5-b784-43fb-ab35-a08ab7dbf074"
	formVersion="1.1" formAddMetadata="no">
	<!-- Autogenerated example form  (template from 01-Nov-2010 -->
	<macros>
		paperFormId = (Fill this in)
		headerColor =#009d8e
		fontOnHeaderColor = white
	</macros>
	<script type="text/javascript">
        jq(document).ready(function () {
        <ifMode mode="VIEW">
					<!-- hide the buttons in view -->
                jq('button.no-print').hide();
        </ifMode>
        });
	</script>

	<div class="wrapper">
		<uiInclude provider="msfcore" fragment="leftMenu"/>
		<div class="right-form-display">

            <div style="display:none;">
                <section headerLabel="Encounter Details">
                    <table class="baseline-aligned">
                        <tr>
                            <td>Date:</td>
                            <td>
                                <encounterDate default="now" disallowMultipleEncountersOnDate="block"/>
                            </td>
                        </tr>
                        <tr>
                            <td>Location:</td>
                            <td>
                                <encounterLocation default="SessionAttribute:emrContext.sessionLocationId"/>
                            </td>
                        </tr>
                        <tr>
                            <td>Provider:</td>
                            <td>
                                <encounterProvider default="currentUser"/>
                            </td>
                        </tr>
                    </table>
                </section>
            </div>

			<div class="sections-container">

				<section>

					<h3>11. <lookup expression="fn.message('msfcore.ncdbaseline.requestappointment.title')"/></h3>

					<table class="baseline-aligned">
						<tr>
                            <td><lookup expression="fn.getConcept('MSF:4970888B-5114-4D8D-A8F6-B6110ECF330A').name"/></td>
                            <!-- Concept id ref term=581373 name=appointment_next_date -->
            				<td><obs conceptId="MSF:4970888B-5114-4D8D-A8F6-B6110ECF330A" id="appointment_next_date" allowFutureDates="true" allowTime="false"/></td>
						</tr>
			            <tr>
				            <td><lookup expression="fn.getConcept('f3a76818-3ff4-4d94-9c51-be295cad43a1').name"/></td>
                            <!-- Concept id=6000000 name=Request Appointment Comment -->
				            <td><obs conceptId="f3a76818-3ff4-4d94-9c51-be295cad43a1" id="appointment_next_comment" rows="4" cols="80"/></td>
			            </tr>
					</table>
					<!-- Submit -->
					<button class="no-print"><lookup expression="fn.message('msfcore.next')"/></button>
				</section>
			</div>

		</div>
	</div>

	<!-- Ensure that only one version of this form can exist at any one time -->
	<ifMode mode="ENTER" include="true">
		<lookup complexExpression="
            #set( $encounter = 0 )
            #set( $encounter = $fn.allEncounters('f09a3a3a-810e-4cf6-b432-3d43da303911'))
            #foreach($encounter in $fn.allEncounters(null))
                #if( $encounter.form.uuid == 'f09a3a3a-810e-4cf6-b432-3d43da303911' )
                    &lt;script type=&quot;text/javascript&quot;>
                        window.location.href = window.location.protocol + &quot;//&quot; + window.location.host + &quot;/&quot;+ OPENMRS_CONTEXT_PATH + &quot;/htmlformentryui/htmlform/editHtmlFormWithStandardUi.page?formUuid=$encounter.form.uuid&amp;patientId=$patient.uuid&amp;encounterId=$encounter.uuid&amp;&quot;;
                    &lt;/script>
                #end
            #end"/>

	</ifMode>
    <postSubmissionAction class="org.openmrs.module.msfcore.formactions.HtmlFormsPostSubmissionAction"/>
	<redirectOnSave
			url="/htmlformentryui/htmlform/enterHtmlFormWithStandardUi.page?formUuid=a9f3411c-03d8-4652-8143-886d572cbf4d&amp;patientId={{patient.id}}&amp;visitId={{visit.id}}" />

    </htmlform>