<htmlform
	formUuid="c6e1c22c-d814-11e8-afdf-8b38a7ff6d67"
	formName="Diagnosis Followup"
	formEncounterType="4aa6553b-be5a-413a-93fc-23962bc594e8"
	formVersion="1.1" formAddMetadata="no">
	<!-- Autogenerated example form  (template from 01-Nov-2010 -->
	<macros>
		paperFormId = (Fill this in)
		headerColor =#009d8e
		fontOnHeaderColor = white
	</macros>

	<script type="text/javascript">

		if (jQuery) {

			jq(document).ready(function () {

				<!-- handle operation buttons -->
				jq(".msf-operation-button").on("click", function() {
					jq("#msf-operation").attr("value", this.value);
					return true;
				});

				jq("#question").on("change", function() {
					if (getValue('question.value') == "true") {
						jq("#diagnoses").show();
					} else {
						jq("#diagnoses").hide();
					}
				});

				jq("#question").trigger("change");
			});

		}
	</script>

	<div class="wrapper">
		<uiInclude provider="msfcore" fragment="followupLeftMenu"/>
		<div class="right-form-display">

            <div style="display:none;">
                <section headerLabel="Encounter Details">
                    <table class="baseline-aligned">
                        <tr>
                            <td>Date:</td>
                            <td>
                                <encounterDate default="now" disallowMultipleEncountersOnDate="block" showTime="true" />
                            </td>
                        </tr>
                        <tr>
                            <td>Location:</td>
                            <td>
                                <encounterLocation default="SessionAttribute:emrContext.sessionLocationId"/>
                            </td>
                        </tr>
                        <tr>
                            <td>Provider:</td>
                            <td>
                                <encounterProvider default="currentUser"/>
                            </td>
                        </tr>
                    </table>
                </section>
            </div>

			<div class="sections-container">

			<section>
				<H3><a name="diagnosisFU">2. <lookup expression="fn.message('msfcore.ncdbaseline.diagnosis.title')"/></a></H3>
				
				<h4><lookup expression="fn.message('msfcore.ncdfollowup.diagnosis.question')" /></h4>
				<obs id="question" conceptId="ea5f66f0-c622-4db3-bf96-c031f95c5457" defaultValue="false" style="no_yes"/>
				<br/><br/>

				<div id="diagnoses" class="hidden">
					<encounterDiagnoses selectedDiagnosesTarget="#encounter-diagnoses-target"/>
					<div class="add-box" id="encounter-diagnoses-target"></div>
				</div>

	            <!-- Submit -->
				<div class="bottom-of-form">
					<button class="msf-operation-button no-print" value="ncd.followup.diagnosis.previous"><lookup expression="fn.message('msfcore.previous')"/></button>
					<button class="primary right msf-operation-button no-print" value="ncd.followup.diagnosis.next"><lookup expression="fn.message('msfcore.next')"/></button>
				</div>
			</section>

			</div>

		</div>
	</div>

	<postSubmissionAction class="org.openmrs.module.msfcore.formaction.handler.HtmlFormPostSubmissionAction" />
</htmlform>